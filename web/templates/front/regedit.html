<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>注册页面</title>
    <meta name="description" content="这是一个 base 页面">
    <meta name="keywords" content="index">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <link rel="icon" type="image/png" href="/static/back/i/favicon.png">
    <link rel="apple-touch-icon-precomposed" href="/static/back/i/app-icon72x72@2x.png">
    <meta name="apple-mobile-web-app-title" content="Amaze UI" />
    <script src="/static/back/js/echarts.min.js"></script>
    <link rel="stylesheet" href="/static/back/css/amazeui.min.css" />
    <link rel="stylesheet" href="/static/back/css/amazeui.datatables.min.css" />
    <link rel="stylesheet" href="/static/back/css/app.css">
    <link rel="stylesheet" href="/static/front/css/bootstrap.min.css">    
    <script type="text/javascript" src="/static/front/js/jquery-1.12.4.min.js"></script>

    <style type="text/css" media="screen">
        .am-form-group{

            height: 60px;
        }
        .log{
            font:50px;
        }
    </style>

</head>
<body>
    


<div class="tpl-content-wrapper">
    <div class="container-fluid am-cf">
        <div class="row">
            <div class="am-u-sm-12 am-u-md-12 am-u-lg-12">
                <div class="page-header-heading">
                    <h2 class="log">
                    </h2>用户注册
                </div>
            </div>
        </div>
    </div>

<div class="am-u-md-9 am-u-md-offset-1">
    <form class="am-form am-form-horizontal" id="regeditform" action="{% url 'checkregedit' %}" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="am-form-group">
        <label for="doc-ipt-3" class="am-u-sm-2 am-form-label">用户名
        </label>
        <div class="am-u-sm-10 uname">
            <input type="text" name="name"  placeholder="请输入用户名">
            <span id='notice1'></span>
        </div>
    </div>
    <div class="am-form-group">
        <label for="doc-ipt-3" class="am-u-sm-2 am-form-label">密码
        </label>
        <div class="am-u-sm-10  pw1">
            <input type="password" name="password1"  placeholder="请输入密码">
            <span id='notice2'></span>
        </div>
    </div>
    <div class="am-form-group">
        <label for="doc-ipt-3" class="am-u-sm-2 am-form-label">密码
        </label>
        <div class="am-u-sm-10 pw2">
            <input type="password" name="password2"  placeholder="请再次输入密码">
            <span id='notice3'></span>
        </div>
    </div>
    <div class="am-form-group">
        <label for="doc-ipt-3" class="am-u-sm-2 am-form-label">地址
        </label>
        <div class="am-u-sm-10">
            <input type="text"  placeholder="请输入地址，可为空">
        </div>
    </div>
    <div class="am-form-group">
        <label for="doc-ipt-3" class="am-u-sm-2 am-form-label">手机号
        </label>
        <div class="am-u-sm-10 phonenum">
            <input type="number" name="phone" placeholder="输入你的手机号，可为空">
            <span id='notice4'></span>
        </div>
    </div>
    <div class="am-form-group">
        <label for="doc-ipt-3" class="am-u-sm-2 am-form-label">电子邮件
        </label>
        <div class="am-u-sm-10">
            <input type="email" name="email"  placeholder="输入你的电子邮件">
        </div>
      </div>
    
    <div class="am-form-group" hidden >
        <label for="doc-ipt-pwd-2" class="am-u-sm-2 am-form-label">状态
        </label>
        <div class="am-u-sm-10">
            <select name="state" >
        		<option disabled value="1">会员</option>
        	</select>
        </div>
      	</div>
		<div class="am-form-group">
		    <label for="doc-ipt-pwd-2" class="am-u-sm-2 am-form-label">头像</label>
	        <div class="am-u-sm-10">
		        <input type="file" name="img">	
	        </div>
		</div>
    <div class="am-form-group">
        <div class="am-u-sm-10 am-u-sm-offset-2">
            <button type="submit" class="am-btn am-btn-default">提交
            </button>
        </div>
    </div>
    </form>
</div>
</div>
<script type="text/javascript">
    var Regeditform = document.getElementById('regeditform');
    var Names = Regeditform.name;
    var Pwd1 = Regeditform.password1;
    var Pwd2 = Regeditform.password2;
    var Phone = Regeditform.phone;

    // var notice1 = document.getElementById('notice1');
    // var notice2 = document.getElementById('notice2');
    // var notice3 = document.getElementById('notice3');
    // var notice4 = document.getElementById('notice4');

    var nameResult 
    var pwd1Result
    var pwd2Result
    var phoneResult
    var passd1
    var passd2


    // alert($)
    Names.onfocus = function(){
        $('.uname span').html('请输入4-12位的数字字母下划线')
        $('.uname span').css('color','#ccc')

    };
    Names.onblur = function(){
        var nam = Names.value;
        var reg = /^\w{4,12}$/;
        nameResult = reg.test(nam);
        if(nameResult){
            $('.uname span').html('输入正确');
            $('.uname span').css('color','green');
        }else{
            $('.uname span').html('输入错误');
            $('.uname span').css('color','red');
        }
    };

    Pwd1.onfocus = function(){
        $('.pw1 span').html('请输入6-12位的数字字母下划线')
        $('.pw1 span').css('color','#ccc')
    };
    Pwd1.onblur = function(){
        passd1 = Pwd1.value;
        var reg = /^\w{6,12}$/;
        pwd1Result = reg.test(passd1);
        console.log('passd1',passd1);
        if(pwd1Result){
            $('.pw1 span').html('输入正确');
            $('.pw1 span').css('color','green');
        }else{
            $('.pw1 span').html('输入错误');
            $('.pw1 span').css('color','red');
        }
    };
    Pwd2.onfocus = function(){
            $('.pw2 span').html('请输入6-12位的数字字母下划线')
            $('.pw2 span').css('color','#ccc')
        };
        Pwd2.onblur = function(){
            passd2 = Pwd2.value;
            var reg = /^\w{6,12}$/;
            pwd2Result = reg.test(passd2);
            console.log('passd2',passd2);

            if(pwd2Result){
                if(passd1==passd2){
                    $('.pw2 span').html('输入正确');
                    $('.pw2 span').css('color','green');
                }else{
                    $('.pw2 span').html('两次密码不一致');
                    $('.pw2 span').css('color','red');
                };
            }else{
                $('.pw2 span').html('输入错误');
                $('.pw2 span').css('color','red');
            };
        };
    Phone.onfocus = function(){
        $('.phonenum span').html('请输入11位手机号')
        $('.phonenum span').css('color','#ccc')
    };
    Phone.onblur = function(){
        var phones = Phone.value;
        var reg = /^\d{11}$/;
        phoneResult = reg.test(phones);
        if(phoneResult){
            $('.phonenum span').html('输入正确');
            $('.phonenum span').css('color','green');
        }else{
            $('.phonenum span').html('输入错误');
            $('.phonenum span').css('color','red');
        }
    }




// $('button').eq(0).click(function(){
            
//             // $.get 1.请求地址 2.可选的携带的参数,参数的格式必须是对象类型,3.回调函数,ajax请求成功之后执行的函数
//             // data 服务器返回的数据
//             $.get('cgi-bin/1.py',{username:123,password:123},function(data){
//                 console.log(typeof(data));
//                 console.log(data);
//                 var D = eval(data);  //如果data不是一个原生字符串（如'4'，'true',这种通过数据类型转换变成的字符串），使用eval函数，把data恢复到原本的数据类型(4 number类型,true boolean类型)；若打data本身就是字符串（如'hello',) 为什么返回的是一个对象？
//                 console.log(D);
//                 console.log(typeof(D));  //当data为字符串时，此时D返回的是一个对象类型

//                 $('div').html(data);  //把返回的文本写到页面内
//             },);    
//         })
</script>
</body>
</html>
